@import 'styles/variables';
@import 'styles/mixins';

.measurements-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: $spacing-6;

    @media (max-width: 640px) {
        padding: $spacing-3;
    }

    .measurements-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: $spacing-6;

        @media (max-width: 640px) {
            flex-direction: column;
            align-items: flex-start;
            gap: $spacing-3;
            margin-bottom: $spacing-4;
        }

        h1 {
            font-size: $font-size-3xl;
            font-weight: $font-weight-bold;
            color: $text-primary;
            margin-bottom: $spacing-2;

            @media (max-width: 640px) {
                font-size: $font-size-xl;
                margin-bottom: $spacing-1;
            }
        }

        p {
            color: $text-secondary;
            margin: 0;

            @media (max-width: 640px) {
                font-size: $font-size-sm;
            }
        }

        .btn-add {
            background: linear-gradient(135deg, $primary-500, $primary-600);
            color: white;
            border: none;
            padding: $spacing-3 $spacing-6;
            border-radius: $radius-lg;
            font-size: $font-size-base;
            font-weight: $font-weight-semibold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: $spacing-2;
            transition: all 0.2s;
            min-height: 44px;

            @media (max-width: 640px) {
                font-size: $font-size-sm;
                padding: $spacing-2 $spacing-4;
                align-self: stretch;
                justify-content: center;
            }

            .icon {
                font-size: $font-size-xl;

                @media (max-width: 640px) {
                    font-size: $font-size-lg;
                }
            }

            &:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba($primary-500, 0.3);
            }
        }
    }

    .form-section {
        margin-bottom: $spacing-6;

        @media (max-width: 640px) {
            margin-bottom: $spacing-4;
        }
    }

    .loading-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 300px;
        gap: $spacing-4;

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid $border-light;
            border-top-color: $primary-500;
            border-radius: $radius-full;
            animation: spin 0.8s linear infinite;

            @media (max-width: 640px) {
                width: 40px;
                height: 40px;
                border-width: 3px;
            }
        }

        p {
            color: $text-secondary;
            font-size: $font-size-lg;

            @media (max-width: 640px) {
                font-size: $font-size-base;
            }
        }
    }

    .summary-section {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: $spacing-4;
        margin-bottom: $spacing-6;

        @media (max-width: 640px) {
            grid-template-columns: repeat(2, 1fr);
            gap: $spacing-2;
            margin-bottom: $spacing-4;
        }

        .summary-card {
            background: white;
            border-radius: $radius-xl;
            padding: $spacing-5;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid $border-light;
            display: flex;
            gap: $spacing-4;
            transition: transform 0.2s;

            @media (max-width: 640px) {
                padding: $spacing-3;
                gap: $spacing-2;
                border-radius: $radius-lg;
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            &:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 12px rgba(0, 0, 0, 0.08);
            }

            .card-icon {
                width: 48px;
                height: 48px;
                border-radius: $radius-lg;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: $font-size-2xl;
                flex-shrink: 0;

                @media (max-width: 640px) {
                    width: 36px;
                    height: 36px;
                    font-size: $font-size-lg;
                    border-radius: $radius-md;
                }

                &.weight {
                    background: linear-gradient(135deg, #3b82f6, #2563eb);
                }

                &.bmi {
                    background: linear-gradient(135deg, #10b981, #059669);
                }

                &.fat {
                    background: linear-gradient(135deg, #f59e0b, #d97706);
                }

                &.muscle {
                    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
                }
            }

            .card-content {
                flex: 1;

                .card-label {
                    font-size: $font-size-xs;
                    color: $text-secondary;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                    margin-bottom: $spacing-1;

                    @media (max-width: 640px) {
                        font-size: 10px;
                        margin-bottom: 2px;
                    }
                }

                .card-value {
                    font-size: $font-size-2xl;
                    font-weight: $font-weight-bold;
                    color: $text-primary;
                    line-height: 1;

                    @media (max-width: 640px) {
                        font-size: $font-size-lg;
                    }
                }

                .card-change {
                    font-size: $font-size-sm;
                    font-weight: $font-weight-medium;
                    margin-top: $spacing-2;

                    @media (max-width: 640px) {
                        font-size: $font-size-xs;
                        margin-top: $spacing-1;
                    }

                    &.positive {
                        color: #10b981;
                    }

                    &.negative {
                        color: #ef4444;
                    }

                    .arrow {
                        font-weight: bold;
                    }
                }
            }
        }
    }

    .chart-section {
        background: white;
        border-radius: $radius-xl;
        padding: $spacing-6;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 1px solid $border-light;
        margin-bottom: $spacing-6;

        @media (max-width: 640px) {
            padding: $spacing-3;
            border-radius: $radius-lg;
            margin-bottom: $spacing-4;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: $spacing-6;

            @media (max-width: 640px) {
                flex-direction: column;
                align-items: flex-start;
                gap: $spacing-3;
                margin-bottom: $spacing-4;
            }

            h2 {
                font-size: $font-size-xl;
                font-weight: $font-weight-bold;
                color: $text-primary;
                margin: 0;

                @media (max-width: 640px) {
                    font-size: $font-size-lg;
                }
            }

            .metric-selector {
                display: flex;
                gap: $spacing-2;
                background: $neutral-100;
                padding: $spacing-1;
                border-radius: $radius-lg;

                @media (max-width: 640px) {
                    width: 100%;
                    gap: 4px;
                    padding: 4px;
                }

                button {
                    padding: $spacing-2 $spacing-4;
                    border: none;
                    background: transparent;
                    color: $text-secondary;
                    font-size: $font-size-sm;
                    font-weight: $font-weight-medium;
                    border-radius: $radius-md;
                    cursor: pointer;
                    transition: all 0.2s;
                    min-height: 36px;

                    @media (max-width: 640px) {
                        flex: 1;
                        padding: $spacing-1 $spacing-2;
                        font-size: 11px;
                        min-height: 32px;
                    }

                    &.active {
                        background: white;
                        color: $primary-600;
                        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                    }

                    &:hover:not(.active) {
                        color: $text-primary;
                    }
                }
            }
        }

        .chart-container {
            height: 300px;
            position: relative;

            @media (max-width: 640px) {
                height: 200px;
            }

            .chart-bars {
                display: flex;
                align-items: flex-end;
                justify-content: space-around;
                height: 100%;
                gap: $spacing-2;

                @media (max-width: 640px) {
                    gap: 4px;
                }

                .bar-item {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    height: 100%;

                    .bar-wrapper {
                        flex: 1;
                        width: 100%;
                        display: flex;
                        align-items: flex-end;
                        justify-content: center;

                        .bar {
                            width: 100%;
                            max-width: 60px;
                            background: linear-gradient(180deg, $primary-400, $primary-600);
                            border-radius: $radius-md $radius-md 0 0;
                            position: relative;
                            transition: all 0.3s ease;
                            min-height: 20px;

                            @media (max-width: 640px) {
                                max-width: 40px;
                                border-radius: 4px 4px 0 0;
                            }

                            &:hover {
                                background: linear-gradient(180deg, $primary-500, $primary-700);
                                transform: scaleY(1.05);
                            }

                            .bar-value {
                                position: absolute;
                                top: -24px;
                                left: 50%;
                                transform: translateX(-50%);
                                font-size: $font-size-xs;
                                font-weight: $font-weight-semibold;
                                color: $text-primary;
                                white-space: nowrap;

                                @media (max-width: 640px) {
                                    font-size: 9px;
                                    top: -18px;
                                }
                            }
                        }
                    }

                    .bar-label {
                        font-size: $font-size-xs;
                        color: $text-secondary;
                        margin-top: $spacing-2;
                        text-align: center;

                        @media (max-width: 640px) {
                            font-size: 9px;
                            margin-top: 4px;
                        }
                    }
                }
            }
        }
    }

    .measurements-list {
        h2 {
            font-size: $font-size-xl;
            font-weight: $font-weight-bold;
            color: $text-primary;
            margin-bottom: $spacing-4;

            @media (max-width: 640px) {
                font-size: $font-size-lg;
                margin-bottom: $spacing-3;
            }
        }

        .empty-state {
            background: white;
            border-radius: $radius-xl;
            padding: $spacing-10;
            text-align: center;
            border: 2px dashed $border-light;

            @media (max-width: 640px) {
                padding: $spacing-6;
                border-radius: $radius-lg;
            }

            .empty-icon {
                font-size: 64px;
                margin-bottom: $spacing-4;

                @media (max-width: 640px) {
                    font-size: 48px;
                    margin-bottom: $spacing-3;
                }
            }

            p {
                color: $text-secondary;
                margin-bottom: $spacing-6;

                @media (max-width: 640px) {
                    font-size: $font-size-sm;
                    margin-bottom: $spacing-4;
                }
            }

            .btn-primary {
                background: linear-gradient(135deg, $primary-500, $primary-600);
                color: white;
                border: none;
                padding: $spacing-3 $spacing-6;
                border-radius: $radius-lg;
                font-size: $font-size-base;
                font-weight: $font-weight-semibold;
                cursor: pointer;
                transition: all 0.2s;
                min-height: 44px;

                @media (max-width: 640px) {
                    font-size: $font-size-sm;
                    padding: $spacing-2 $spacing-4;
                }

                &:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 4px 12px rgba($primary-500, 0.3);
                }
            }
        }

        .measurement-item {
            background: white;
            border-radius: $radius-xl;
            padding: $spacing-5;
            margin-bottom: $spacing-4;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 1px solid $border-light;
            display: flex;
            gap: $spacing-5;
            transition: all 0.2s;

            @media (max-width: 640px) {
                padding: $spacing-3;
                gap: $spacing-3;
                margin-bottom: $spacing-3;
                border-radius: $radius-lg;
            }

            &:hover {
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            }

            .measurement-date {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                background: linear-gradient(135deg, $primary-50, $primary-100);
                border-radius: $radius-lg;
                padding: $spacing-3;
                min-width: 80px;

                @media (max-width: 640px) {
                    min-width: 60px;
                    padding: $spacing-2;
                    border-radius: $radius-md;
                }

                .date-day {
                    font-size: $font-size-2xl;
                    font-weight: $font-weight-bold;
                    color: $primary-600;
                    line-height: 1;

                    @media (max-width: 640px) {
                        font-size: $font-size-lg;
                    }
                }

                .date-month {
                    font-size: $font-size-xs;
                    color: $primary-700;
                    text-transform: uppercase;
                    margin-top: $spacing-1;

                    @media (max-width: 640px) {
                        font-size: 9px;
                        margin-top: 2px;
                    }
                }
            }

            .measurement-data {
                flex: 1;
                min-width: 0;

                .data-row {
                    display: flex;
                    justify-content: space-between;
                    margin-bottom: $spacing-2;

                    @media (max-width: 640px) {
                        margin-bottom: $spacing-1;
                    }

                    .data-label {
                        font-size: $font-size-sm;
                        color: $text-secondary;

                        @media (max-width: 640px) {
                            font-size: $font-size-xs;
                        }
                    }

                    .data-value {
                        font-size: $font-size-sm;
                        font-weight: $font-weight-semibold;
                        color: $text-primary;

                        @media (max-width: 640px) {
                            font-size: $font-size-xs;
                        }
                    }
                }

                .data-notes {
                    margin-top: $spacing-3;
                    padding-top: $spacing-3;
                    border-top: 1px solid $border-light;
                    font-size: $font-size-sm;
                    color: $text-secondary;

                    @media (max-width: 640px) {
                        font-size: $font-size-xs;
                        margin-top: $spacing-2;
                        padding-top: $spacing-2;
                    }

                    strong {
                        color: $text-primary;
                    }
                }
            }

            .measurement-actions {
                display: flex;
                flex-direction: column;
                gap: $spacing-2;
                flex-shrink: 0;

                @media (max-width: 640px) {
                    gap: $spacing-1;
                }
            }

            .btn-edit,
            .btn-delete {
                background: transparent;
                border: none;
                font-size: $font-size-xl;
                cursor: pointer;
                opacity: 0.5;
                transition: all 0.2s;
                padding: $spacing-2;
                min-width: 44px;
                min-height: 44px;
                flex-shrink: 0;

                @media (max-width: 640px) {
                    font-size: $font-size-lg;
                    padding: $spacing-1;
                    min-width: 36px;
                    min-height: 36px;
                }

                &:hover {
                    opacity: 1;
                    transform: scale(1.1);
                }
            }

            .btn-edit:hover {
                color: $primary-600;
            }

            .btn-delete:hover {
                color: $error;
            }
        }
    }
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}